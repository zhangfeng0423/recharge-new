# 🎮 测试账户使用指南

## 📧 测试账户列表

我已经为你准备了5个测试账户，覆盖所有角色：

| 序号 | 邮箱 | 密码 | 角色 | 描述 |
|------|------|------|------|------|
| 1 | **player1@test.com** | `TestPlayer123!` | USER | 玩家测试账户 - Alex |
| 2 | **player2@test.com** | `TestPlayer456!` | USER | 玩家测试账户 - Sarah |
| 3 | **merchant1@fantasygames.com** | `TestMerchant789!` | MERCHANT | 商家测试账户 - Fantasy Games Studio |
| 4 | **merchant2@actiongames.com** | `TestMerchant321!` | MERCHANT | 商家测试账户 - Action Games Inc |
| 5 | **admin@test.com** | `TestAdmin000!` | ADMIN | 管理员测试账户 |

## 🚀 快速创建测试账户

### 方法1: 通过Supabase Auth（推荐）
```bash
# 创建所有测试账户
pnpm test:create
```

### 方法2: 直接在数据库创建
```bash
# 在数据库中直接创建档案（需要已有Supabase Auth用户）
pnpm test:direct
```

### 方法3: 查看现有账户
```bash
# 列出所有测试账户
pnpm test:list
```

### 方法4: 清理测试账户
```bash
# 删除所有测试账户
pnpm test:cleanup
```

### 方法5: 查看帮助
```bash
# 查看所有可用选项
node scripts/create-test-accounts.js --help
```

## 🎯 测试账户功能说明

### 👤 玩家账户 (USER)
**权限**:
- 可以浏览所有游戏和商品
- 可以购买商品和创建订单
- 可以查看自己的订单历史
- 可以更新个人资料

**测试用途**:
- 测试购买流程
- 验证订单创建
- 测试商品浏览
- 验证权限隔离

### 🏪 商家账户 (MERCHANT)
**权限**:
- 拥有玩家所有权限
- 可以创建、编辑、删除自己的游戏
- 可以创建、编辑、删除自己的SKU
- 可以查看与自己游戏相关的订单
- 可以访问商家仪表板

**测试用途**:
- 测试游戏管理功能
- 测试SKU创建和管理
- 验证商家权限
- 测试数据隔离

### 👑 管理员账户 (ADMIN)
**权限**:
- 超级管理员权限
- 可以访问所有数据
- 可以管理所有商家账户
- 可以管理所有游戏和SKU
- 可以查看所有订单
- 可以访问管理员仪表板

**测试用途**:
- 测试管理员功能
- 验证全局数据访问
- 测试跨租户功能
- 管理其他测试账户

## 🎮 完整测试流程

### 1. 基础功能测试
```bash
# 步骤1: 创建测试账户
pnpm test:create

# 步骤2: 启动应用
pnpm dev

# 步骤3: 依次测试每个账户登录
```

**登录测试**:
1. 访问 `http://localhost:3000/auth`
2. 使用每个测试账户登录
3. 验证不同角色看到不同的界面

### 2. 玩家流程测试
使用 `player1@test.com` 或 `player2@test.com`:

1. **浏览游戏**: 访问首页，查看所有游戏
2. **查看商品**: 点击游戏，查看SKU列表
3. **购买测试**: 尝试购买商品（需要Stripe配置）
4. **订单管理**: 查看自己的订单历史

### 3. 商家流程测试
使用 `merchant1@fantasygames.com` 或 `merchant2@actiongames.com`:

1. **访问商家仪表板**: `http://localhost:3000/dashboard`
2. **游戏管理**: 创建、编辑、删除游戏
3. **SKU管理**: 为游戏创建和管理商品
4. **订单查看**: 查看与自己游戏相关的订单

### 4. 管理员测试
使用 `admin@test.com`:

1. **访问管理员仪表板**: `http://localhost:3000/dashboard/admin`
2. **全局数据查看**: 查看所有用户、游戏、订单
3. **商家管理**: 管理商家账户
4. **系统配置**: 测试管理员功能

## 🔧 注意事项

### 安全考虑
- 这些是测试账户，仅用于开发测试
- 不要在生产环境使用简单密码
- 账号邮箱是虚拟的，可能无法接收邮件

### 数据隔离
- 每个商家只能看到自己的数据
- 玩家只能看到自己的订单
- 管理员可以看到所有数据

### 功能验证
- 确保RLS（行级安全）正常工作
- 验证不同角色的权限边界
- 测试数据完整性

## 🎨 测试场景建议

### 基础场景
1. **用户注册/登录测试**
2. **游戏浏览和搜索**
3. **商品查看和筛选**
4. **购物车和结账流程**

### 高级场景
1. **多租户数据隔离**
2. **权限控制验证**
3. **订单状态流转**
4. **商家管理流程**

### 边界测试
1. **无效权限访问**
2. **数据篡改尝试**
3. **跨租户数据泄露**
4. **并发操作测试**

现在你有了完整的测试环境，可以全面测试你的游戏充值平台了！🚀